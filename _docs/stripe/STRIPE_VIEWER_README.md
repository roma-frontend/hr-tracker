# üí≥ Stripe Transactions Viewer

–ö—Ä–∞—Å–∏–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö Stripe —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (–ø–æ–¥–ø–∏—Å–æ–∫) –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Convex.

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

#### –°–ø–æ—Å–æ–± 1: NPM –∫–æ–º–∞–Ω–¥–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
cd Desktop/office
npm run stripe:view
```

#### –°–ø–æ—Å–æ–± 2: Bash —Å–∫—Ä–∏–ø—Ç
```bash
cd Desktop/office
chmod +x view-stripe.sh
./view-stripe.sh
```

#### –°–ø–æ—Å–æ–± 3: –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫
```bash
cd Desktop/office
npx tsx scripts/view-stripe-transactions.ts
```

### üìä –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ Excel —Ñ–∞–π–ª–µ:

```bash
cd Desktop/office
npm run stripe:export
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `stripe-transactions-[timestamp].xlsx` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å –¥–≤—É–º—è –ª–∏—Å—Ç–∞–º–∏:
- **–õ–∏—Å—Ç 1: –ü–æ–¥–ø–∏—Å–∫–∏** - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–¥–ø–∏—Å–∫–∞—Ö –≤ —Ç–∞–±–ª–∏—á–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
- **–õ–∏—Å—Ç 2: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - —Å–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–æ–¥–ø–∏—Å–∫–∞–º

### üß™ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–¥–æ–±–∞–≤–ª—è–µ—Ç 4 –ø—Ä–∏–º–µ—Ä–∞ –ø–æ–¥–ø–∏—Å–æ–∫):

```bash
cd Desktop/office
npm run stripe:add-test-data
```

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `NEXT_PUBLIC_CONVEX_URL` –∏–ª–∏ `CONVEX_URL` –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤ `.env.local`
- Convex —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

## üé® –ß—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:

- ‚úÖ **–°—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏** (trialing, active, past_due, canceled, incomplete)
- üéØ **–ü–ª–∞–Ω** (starter, professional, enterprise)
- üìß **Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
- üÜî **Stripe Customer ID**
- üîë **Stripe Subscription ID**
- üìÖ **–ü–µ—Ä–∏–æ–¥ –ø–æ–¥–ø–∏—Å–∫–∏** (–Ω–∞—á–∞–ª–æ –∏ –∫–æ–Ω–µ—Ü)
- üîÑ **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**
- üìä **–°–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**:
  - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–ø–∏—Å–æ–∫
  - –†–∞–∑–±–∏–≤–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
  - –†–∞–∑–±–∏–≤–∫–∞ –ø–æ –ø–ª–∞–Ω–∞–º
  - –ú–µ—Å—è—á–Ω—ã–π –¥–æ—Ö–æ–¥ (MRR) –æ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫

## üé® –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞

### –°—Ç–∞—Ç—É—Å—ã:
- üÜì **Trialing** - –ì–æ–ª—É–±–æ–π (–ø—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥)
- ‚úÖ **Active** - –ó–µ–ª–µ–Ω—ã–π (–∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞)
- ‚ö†Ô∏è **Past Due** - –ñ–µ–ª—Ç—ã–π (–ø—Ä–æ—Å—Ä–æ—á–µ–Ω –ø–ª–∞—Ç–µ–∂)
- ‚ùå **Canceled** - –ö—Ä–∞—Å–Ω—ã–π (–æ—Ç–º–µ–Ω–µ–Ω–∞)
- ‚è≥ **Incomplete** - –§–∏–æ–ª–µ—Ç–æ–≤—ã–π (–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞)

### –ü–ª–∞–Ω—ã:
- üöÄ **Starter** - –°–∏–Ω–∏–π
- üíº **Professional** - –§–∏–æ–ª–µ—Ç–æ–≤—ã–π
- üè¢ **Enterprise** - –ñ–µ–ª—Ç—ã–π

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **–°–∫—Ä–∏–ø—Ç**: `scripts/view-stripe-transactions.ts`
- **Convex —Ñ—É–Ω–∫—Ü–∏—è**: `convex/subscriptions.ts` ‚Üí `listAll`
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –¢–∞–±–ª–∏—Ü–∞ `subscriptions` –≤ Convex

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –°–∫—Ä–∏–ø—Ç —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ Convex –≤ —Ä–µ–∂–∏–º–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π HTTP –∫–ª–∏–µ–Ω—Ç Convex)
- –ö—Ä–∞—Å–∏–≤–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –≤—ã–≤–æ–¥ —Å —Ü–≤–µ—Ç–∞–º–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
- –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω—ã–π MRR –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞: "CONVEX_URL not found"
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env.local` –µ—Å—Ç—å:
```
NEXT_PUBLIC_CONVEX_URL=https://your-deployment.convex.cloud
```

### –û—à–∏–±–∫–∞: "Cannot find module 'convex/browser'"
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm install
```

### –û—à–∏–±–∫–∞: "tsx: command not found"
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ tsx:
```bash
npm install --save-dev tsx
```
